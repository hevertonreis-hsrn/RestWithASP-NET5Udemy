[{"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\App.js":"1","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\index.js":"2","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\pages\\Login\\index.js":"3","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\routes.js":"4","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\pages\\Books\\index.js":"5","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\pages\\NewBook\\index.js":"6","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\services\\api.js":"7"},{"size":148,"mtime":1612272793451,"results":"8","hashOfConfig":"9"},{"size":196,"mtime":1612199778350,"results":"10","hashOfConfig":"9"},{"size":1955,"mtime":1612288076879,"results":"11","hashOfConfig":"9"},{"size":548,"mtime":1612356406527,"results":"12","hashOfConfig":"9"},{"size":3378,"mtime":1612361082089,"results":"13","hashOfConfig":"9"},{"size":3858,"mtime":1612360124549,"results":"14","hashOfConfig":"9"},{"size":121,"mtime":1612287375594,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1rg6aiu",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\App.js",[],["33","34"],"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\index.js",[],["35","36"],"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\pages\\Login\\index.js",[],"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\routes.js",[],"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\pages\\Books\\index.js",["37"],"import React,{useState, useEffect} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport {FiPower, FiEdit, FiTrash2} from 'react-icons/fi'\r\n\r\nimport api from '../../services/api.js'\r\n\r\nimport './styles.css'\r\n\r\nimport logoImage from '../../assets/logo.svg'\r\n\r\nexport default function Books() {\r\n\r\n    const [books, setBooks] = useState([])\r\n\r\n    const [page, setPage] = useState(1)\r\n\r\n    const userName = localStorage.getItem('userName')\r\n    const accessToken = localStorage.getItem('accessToken')\r\n\r\n    const authorization = {\r\n        headers:{\r\n            Authorization: `Bearer ${accessToken}`\r\n        }\r\n    }\r\n\r\n    const history = useHistory()\r\n\r\n    useEffect(() => {\r\n        fetchMoreBooks()\r\n    }, [accessToken])\r\n\r\n    async function fetchMoreBooks() {\r\n        const response = await api.get(`api/Book/v1/asc/4/${page}`, authorization)\r\n        setBooks([...books, ...response.data.list])\r\n        setPage(page + 1)\r\n    }\r\n\r\n    async function logout() {\r\n        try {\r\n            await api.get('api/Auth/v1/revoke', authorization)\r\n\r\n            localStorage.clear()\r\n            history.push('/')\r\n\r\n        } catch (error) {\r\n            alert('Logout failed!')\r\n        }\r\n    }\r\n\r\n    async function editBook(id) {\r\n        try {\r\n            history.push(`book/new/${id}`)\r\n        } catch (error) {\r\n            alert('Edit book failed! Try again!')\r\n        }\r\n    }\r\n\r\n    async function deleteBook(id) {\r\n        try {\r\n            await api.delete(`api/Book/v1/${id}`, authorization)\r\n\r\n            setBooks(books.filter(book => book.id !== id))\r\n        } catch (error) {\r\n            alert('Delete failed! Try again!')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"book-container\">\r\n\r\n            <header>\r\n                <img src={logoImage} alt=\"Erudio Logo\"/>\r\n                <span>Welcome, <strong>{userName.toLowerCase()}</strong>!</span>\r\n                <Link className=\"button\" to=\"book/new/0\">Add New Book</Link>\r\n                <button onClick={logout} type=\"button\">\r\n                    <FiPower size={18} color=\"#251FC5\"/>\r\n                </button>\r\n            </header>\r\n\r\n            <h1>Registered Books</h1>\r\n            <ul>\r\n                {books.map(book => (\r\n                    <li key={book.id} >\r\n                        <strong>Title:</strong>\r\n                        <p>{book.title}</p>\r\n\r\n                        <strong>Author:</strong>\r\n                        <p>{book.author}</p>\r\n\r\n                        <strong>Price:</strong>\r\n                        <p>{Intl.NumberFormat('pt-BR', {style: 'currency', currency: 'BRL'}).format(book.price)}</p>\r\n\r\n                        <strong>Release Date:</strong>\r\n                        <p>{Intl.DateTimeFormat('pt-BR').format(new Date (book.launchDate))}</p>\r\n\r\n                        <button onClick={() => editBook(book.id)} type=\"button\">\r\n                            <FiEdit size={20} color=\"#251FC5\"/>\r\n                        </button>\r\n\r\n                        <button onClick={() => deleteBook(book.id)} type=\"button\">\r\n                            <FiTrash2 size={20} color=\"#251FC5\"/>\r\n                        </button>\r\n                    </li>\r\n                ))}\r\n\r\n            </ul>\r\n\r\n            <button className=\"button\" onClick={fetchMoreBooks} type='button'>Load More</button>\r\n        </div>\r\n    )\r\n}\r\n","C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\pages\\NewBook\\index.js",["38","39"],"C:\\Users\\heverton.reis\\Desktop\\dotnet\\RestWithASP-NET5Udemy\\BONUS_RestWithASPNETUdemy-Criando Client em React\\client\\src\\services\\api.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"40","replacedBy":"44"},{"ruleId":"42","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":30,"column":8,"nodeType":"48","endLine":30,"endColumn":21,"suggestions":"49"},{"ruleId":"46","severity":1,"message":"50","line":34,"column":8,"nodeType":"51","endLine":34,"endColumn":14},{"ruleId":"46","severity":1,"message":"52","line":34,"column":8,"nodeType":"51","endLine":34,"endColumn":14,"suggestions":"53"},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],["54"],["55"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchMoreBooks'. Either include it or remove the dependency array.","ArrayExpression",["56"],"React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","Identifier","React Hook useEffect has missing dependencies: 'bookId' and 'loadBook'. Either include them or remove the dependency array.",["57"],"no-global-assign","no-unsafe-negation",{"desc":"58","fix":"59"},{"desc":"60","fix":"61"},"Update the dependencies array to be: [accessToken, fetchMoreBooks]",{"range":"62","text":"63"},"Update the dependencies array to be: [bookId, loadBook]",{"range":"64","text":"65"},[733,746],"[accessToken, fetchMoreBooks]",[887,893],"[bookId, loadBook]"]